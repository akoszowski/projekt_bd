[{"/home/james/git/projekt_bd/client/src/index.js":"1","/home/james/git/projekt_bd/client/src/App.js":"2","/home/james/git/projekt_bd/client/src/Login.js":"3","/home/james/git/projekt_bd/client/src/reportWebVitals.js":"4","/home/james/git/projekt_bd/client/src/Pools.js":"5","/home/james/git/projekt_bd/client/src/Timetable.js":"6","/home/james/git/projekt_bd/client/src/state-manager.js":"7","/home/james/git/projekt_bd/client/src/helpers.js":"8"},{"size":500,"mtime":1613004175842,"results":"9","hashOfConfig":"10"},{"size":1539,"mtime":1613009128325,"results":"11","hashOfConfig":"10"},{"size":2231,"mtime":1613008701468,"results":"12","hashOfConfig":"10"},{"size":362,"mtime":1612891294721,"results":"13","hashOfConfig":"10"},{"size":1337,"mtime":1613006322480,"results":"14","hashOfConfig":"10"},{"size":5657,"mtime":1613009016007,"results":"15","hashOfConfig":"10"},{"size":389,"mtime":1613005839776,"results":"16","hashOfConfig":"10"},{"size":72,"mtime":1613007865880,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},"1jrpkrv",{"filePath":"21","messages":"22","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"23","messages":"24","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"31","usedDeprecatedRules":"20"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},"/home/james/git/projekt_bd/client/src/index.js",[],["36","37"],"/home/james/git/projekt_bd/client/src/App.js",["38","39","40","41"],"/home/james/git/projekt_bd/client/src/Login.js",[],"/home/james/git/projekt_bd/client/src/reportWebVitals.js",[],"/home/james/git/projekt_bd/client/src/Pools.js",[],"/home/james/git/projekt_bd/client/src/Timetable.js",["42","43","44","45"],"import React, {Component} from 'react';\nimport './Timetable.css';\nimport axios from 'axios'\nimport {isDefined} from './helpers'\nimport {changeRootState} from './state-manager'\n\nclass Timetable extends Component {\n\n    resetSelection() {\n        this.setState({\n            selectedRow: undefined,\n            selectedColumnStart: undefined,\n            selectedColumnStop: undefined\n        });\n    }\n\n    constructor(props) {\n        super();\n        let now = new Date();\n        this.state = {\n            time: new Date(now.getFullYear(), now.getMonth(), now.getDate()),\n            headers: [\"6:00\", \"6:15\", \"6:30\", \"6:45\", \"7:00\", \"7:15\"],\n            data: [\n                [1, 2, 3, 4, 5, 6],\n                [7, 8, 9, 10, 11, 12]\n            ],\n            selectedRow: undefined,\n            selectedColumnStart: undefined,\n            selectedColumnStop: undefined\n        }\n        this.selectedPool = props.selectedPool;\n    }\n\n\n    componentDidMount() {\n        /*        axios.get('/api/v1//pools').then((res) => {\n                    const data = res.data;\n                    this.setState({response: data});\n                });*/\n    }\n\n    getClicked(rowIndex, columnIndex) {\n        let result = isDefined(rowIndex) && (rowIndex == this.state.selectedRow) && (this.state.selectedColumnStart <= columnIndex) && (columnIndex <= this.state.selectedColumnStop);\n        console.log(result);\n        return result;\n    }\n\n    makeReservation() {\n        axios.post('/api/v1/reserve',{\n            selectedPool: this.selectedPool,\n            selectedRow: this.state.selectedRow,\n            date: this.state.time,\n            start: this.state.headers[this.state.selectedColumnStart],\n            stop: this.state.headers[this.state.selectedColumnStop]\n        }).then((response)=>{\n            console.log(\"Success!\");\n            changeRootState({page: \"end\"});\n            console.log(response);\n        }).catch(function (error) {\n            console.log(\"Error!\");\n            console.log(error);\n        });\n    }\n\n\n    toggle(rowIndex, columnIndex) {\n        let left = this.getClicked(rowIndex, columnIndex - 1);\n        let middle = this.getClicked(rowIndex, columnIndex);\n        let right = this.getClicked(rowIndex, columnIndex + 1);\n\n\n        if (!isDefined(this.state.selectedRow) || (!middle && (left || right)) || (middle && (!left || !right))) {\n            console.log(\"Toggling\", rowIndex, columnIndex);\n            this.setState((prevState) => {\n                    let copy = Object.assign({}, prevState);\n                    copy.selectedRow = rowIndex;\n                    console.log(copy)\n                    console.log(\"def\", isDefined(copy.selectedColumnStart))\n                    if (middle) {\n                        if(copy.selectedColumnStart == copy.selectedColumnStop)\n                            this.resetSelection();\n                        else {\n                            if (copy.selectedColumnStart == columnIndex)\n                                copy.selectedColumnStart++;\n                            if (copy.selectedColumnStop == columnIndex)\n                                copy.selectedColumnStop--;\n                        }\n                    } else {\n                        if (!isDefined(copy.selectedColumnStart) || columnIndex < copy.selectedColumnStart)\n                            copy.selectedColumnStart = columnIndex;\n                        if (!isDefined(copy.selectedColumnStop) || copy.selectedColumnStop < columnIndex)\n                            copy.selectedColumnStop = columnIndex;\n                    }\n                    return copy;\n                }\n            );\n        }\n    }\n\n    changeTime(numOfDays) {\n        let newDate = (this.state.time.getDate()) + numOfDays;\n        console.log(newDate);\n        this.setState((prevState) => {\n            let copy = Object.assign({}, prevState);\n            copy.time.setDate(newDate);\n            return copy;\n        })\n        this.resetSelection();\n    }\n\n\n    render() {\n        return <div>\n            <h1>Selected pool: {this.selectedPool} </h1>\n            <table>\n                <thead>\n                    <tr>\n                        <td colSpan=\"100%\">\n                            <center>\n                                <button onClick={((e) => this.changeTime(-1))}>Prev</button>\n                                {this.state.time.toLocaleDateString(\"pl-PL\")}\n                                <button onClick={((e) => this.changeTime(1))}>Next</button>\n                            </center>\n                        </td>\n                    </tr>\n                    <tr>\n                        {this.state.headers.map((hour) =>\n                            <td>{hour}</td>\n                        )}\n                    </tr>\n                </thead>\n                <tbody>\n                    {this.state.data.map((row, rowIndex) =>\n                        <tr>\n                            {row.map((n, columnIndex) => {\n                                let clicked = this.getClicked(rowIndex, columnIndex);\n                                let color = clicked ? \"green\" : \"blue\";\n                                let style = {\n                                    \"backgroundColor\": color\n                                };\n                                return <td style={style} onClick={(e) => this.toggle(rowIndex, columnIndex)}>{n}</td>;\n                            })}\n                        </tr>\n                    )}\n                </tbody>\n            </table>\n            <button onClick={(e)=>this.makeReservation()}>Reserve</button>\n        </div>;\n    }\n\n\n}\n\nexport default Timetable;","/home/james/git/projekt_bd/client/src/state-manager.js",[],"/home/james/git/projekt_bd/client/src/helpers.js",[],{"ruleId":"46","replacedBy":"47"},{"ruleId":"48","replacedBy":"49"},{"ruleId":"50","severity":1,"message":"51","line":41,"column":9,"nodeType":"52","messageId":"53","endLine":41,"endColumn":15},{"ruleId":"50","severity":1,"message":"51","line":44,"column":9,"nodeType":"52","messageId":"53","endLine":44,"endColumn":15},{"ruleId":"50","severity":1,"message":"51","line":47,"column":9,"nodeType":"52","messageId":"53","endLine":47,"endColumn":15},{"ruleId":"50","severity":1,"message":"51","line":50,"column":9,"nodeType":"52","messageId":"53","endLine":50,"endColumn":15},{"ruleId":"54","severity":1,"message":"55","line":43,"column":55,"nodeType":"56","messageId":"57","endLine":43,"endColumn":57},{"ruleId":"54","severity":1,"message":"55","line":80,"column":53,"nodeType":"56","messageId":"57","endLine":80,"endColumn":55},{"ruleId":"54","severity":1,"message":"55","line":83,"column":58,"nodeType":"56","messageId":"57","endLine":83,"endColumn":60},{"ruleId":"54","severity":1,"message":"55","line":85,"column":57,"nodeType":"56","messageId":"57","endLine":85,"endColumn":59},"no-native-reassign",["58"],"no-negated-in-lhs",["59"],"no-unreachable","Unreachable code.","BreakStatement","unreachableCode","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","no-global-assign","no-unsafe-negation"]